---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_platform_monitored_service Resource - terraform-provider-harness"
subcategory: "Next Gen"
description: |-
  Resource for creating a monitored service.
---

# harness_platform_monitored_service (Resource)

Resource for creating a monitored service.

## Example Usage

```terraform
resource "harness_platform_monitored_service" "example" {
  account_id = "account_id"
  org_id     = "default"
  project_id = "default_project"
  identifier = "Terraform"
  request {
    name            = "name"
    type            = "Application"
    description     = "description"
    service_ref     = "service_ref"
    environment_ref = "environment_ref"
    tags            = ["foo:bar", "bar:foo"]
    health_sources {
      name       = "name"
      identifier = "identifier"
      type       = "ElasticSearch"
      spec = jsonencode({
        connectorRef = "connectorRef"
        feature      = "feature"
        queries = [
          {
            name                      = "name"
            query                     = "query"
            index                     = "index"
            serviceInstanceIdentifier = "serviceInstanceIdentifier"
            timeStampIdentifier       = "timeStampIdentifier"
            timeStampFormat           = "timeStampFormat"
            messageIdentifier         = "messageIdentifier"
          },
          {
            name                      = "name2"
            query                     = "query2"
            index                     = "index2"
            serviceInstanceIdentifier = "serviceInstanceIdentifier2"
            timeStampIdentifier       = "timeStampIdentifier2"
            timeStampFormat           = "timeStampFormat2"
            messageIdentifier         = "messageIdentifier2"
          }
        ]
      })
    }
    change_sources {
      name       = "csName1"
      identifier = "harness_cd_next_gen"
      type       = "HarnessCDNextGen"
      enabled    = true
      spec = jsonencode({
      })
      category = "Deployment"
    }
    notification_rule_refs {
      notification_rule_ref = "notification_rule_ref"
      enabled               = true
    }
    notification_rule_refs {
      notification_rule_ref = "notification_rule_ref1"
      enabled               = false
    }
    enabled       = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `identifier` (String) Identifier of the monitored service.
- `org_id` (String) Identifier of the organization in which the monitored service is configured.
- `project_id` (String) Identifier of the project in which the monitored service is configured.

### Optional

- `request` (Block List, Max: 1) Request for creating or updating a monitored service. (see [below for nested schema](#nestedblock--request))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--request"></a>
### Nested Schema for `request`

Required:

- `change_sources` (Block Set, Min: 1, Max: 4) Set of change sources for the monitored service. (see [below for nested schema](#nestedblock--request--change_sources))
- `environment_ref` (String) Environment in which the service is deployed.
- `health_sources` (Block Set, Min: 1, Max: 16) Set of health sources for the monitored service. (see [below for nested schema](#nestedblock--request--health_sources))
- `name` (String) Name for the monitored service.
- `service_ref` (String) Service reference for the monitored service.
- `type` (String) Type of the monitored service.

Optional:

- `dependencies` (Block Set) Dependencies of the monitored service. (see [below for nested schema](#nestedblock--request--dependencies))
- `description` (String) Description for the monitored service.
- `enabled` (Boolean) Enable or disable the monitored service.
- `environment_ref_list` (List of String) Environment reference list for the monitored service.
- `notification_rule_refs` (Block List) Notification rule references for the monitored service. (see [below for nested schema](#nestedblock--request--notification_rule_refs))
- `tags` (Set of String) Tags for the monitored service. comma-separated key value string pairs.
- `template_ref` (String) Template reference for the monitored service.
- `version_label` (String) Template version label for the monitored service.

<a id="nestedblock--request--change_sources"></a>
### Nested Schema for `request.change_sources`

Required:

- `category` (String) Category of the change source.
- `identifier` (String) Identifier of the change source.
- `name` (String) Name of the change source.
- `type` (String) Type of the change source.

Optional:

- `enabled` (Boolean) Enable or disable the change source.
- `spec` (String) Specification of the change source. Depends on the type of the change source.


<a id="nestedblock--request--health_sources"></a>
### Nested Schema for `request.health_sources`

Required:

- `identifier` (String) Identifier of the health source.
- `name` (String) Name of the health source.
- `spec` (String) Specification of the health source. Depends on the type of the health source.
- `type` (String) Type of the health source.


<a id="nestedblock--request--dependencies"></a>
### Nested Schema for `request.dependencies`

Required:

- `monitored_service_identifier` (String) Monitored service identifier of the dependency.
- `type` (String) Type of the service dependency.

Optional:

- `dependency_metadata` (String) Dependency metadata for the monitored service.


<a id="nestedblock--request--notification_rule_refs"></a>
### Nested Schema for `request.notification_rule_refs`

Required:

- `enabled` (Boolean) Enable or disable notification rule reference for the monitored service.
- `notification_rule_ref` (String) Notification rule reference for the monitored service.

## Import

Import is supported using the following syntax:

```shell
# Import account level monitored_service
terraform import harness_platform_monitored_service.example <monitored_service_id>

# Import organization level monitored_service
terraform import harness_platform_monitored_service.example <org_id>/<monitored_service_id>

# Import project level monitored_service
terraform import harness_platform_monitored_service.example <org_id>/<project_id>/<monitored_service_id>
```
