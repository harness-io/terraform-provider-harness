---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_platform_connector_aws_secret_manager Resource - terraform-provider-harness"
subcategory: "Next Gen"
description: |-
  Resource for creating an AWS Secret Manager connector.
---

# harness_platform_connector_aws_secret_manager (Resource)

Resource for creating an AWS Secret Manager connector.

References:
- For details on how to onboard with Terraform, please see [Harness Terraform Provider Overview](https://developer.harness.io/docs/platform/terraform/harness-terraform-provider-overview/)
- To understand how to use AWS Secret Manager, please see [Documentation](https://developer.harness.io/docs/platform/Secrets/Secrets-Management/add-an-aws-secret-manager)
- To get more information about Api, please see [API documentation](https://apidocs.harness.io/tag/Connectors)

## Example Usage

```terraform
# Credentials inherit_from_delegate
resource "harness_platform_connector_aws_secret_manager" "test" {
  identifier  = "identifier"
  name        = "name"
  description = "test"
  tags        = ["foo:bar"]
  default     = true

  secret_name_prefix = "test"
  region             = "us-east-1"
  delegate_selectors = ["harness-delegate"]
  credentials {
    inherit_from_delegate = true
  }
}

# Credentials manual
resource "harness_platform_connector_aws_secret_manager" "test" {
  identifier  = "identifier"
  name        = "name"
  description = "test"
  tags        = ["foo:bar"]
  default     = true

  secret_name_prefix = "test"
  region             = "us-east-1"
  delegate_selectors = ["harness-delegate"]
  credentials {
    manual {
      secret_key_ref = "account.secret_id"
      access_key_ref = "account.secret_id"
    }
  }
}

# Credentials assume_role
resource "harness_platform_connector_aws_secret_manager" "test" {
  identifier  = "identifier"
  name        = "name"
  description = "test"
  tags        = ["foo:bar"]
  default     = true

  secret_name_prefix = "test"
  region             = "us-east-1"
  delegate_selectors = ["harness-delegate"]
  credentials {
    assume_role {
      role_arn    = "somerolearn"
      external_id = "externalid"
      duration    = 900
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `identifier` (String): Unique identifier of the resource.
- `name` (String): Name of the resource.
- `type` (String): Type of the custom secrets manager, typically set to `CustomSecretManager`.
- `on_delegate` (Boolean): Specifies whether the secrets manager runs on a Harness delegate.
- `template_ref` (String): Reference to the template used for managing secrets.

### Optional

- `description` (String): A brief description of what the resource does or is used for.
- `timeout` (Number): Timeout in seconds for secrets management operations.
- `tags` (Set of String): Tags to associate with the resource.
- `version_label` (String): Version identifier of the secrets management template.
- `target_host` (String): Host address where secrets will be managed. Required if `on_delegate` is set to false.
- `ssh_secret_ref` (String): Reference to the Harness secret containing SSH credentials for the target host. Required if `on_delegate` is set to false.
- `working_directory` (String): Directory path on the target host where secrets management tasks are performed. Required if `on_delegate` is set to false.

### Read-Only

- `id` (String): The ID of this resource.

<a id="nestedblock--template_inputs"></a>
### Nested Schema for `template_inputs`

- `environment_variable` (Block, Repeatable): Specifies the environment variables needed for the secrets manager.
  - `name` (String): The name of the environment variable.
  - `value` (String): The value of the environment variable, typically set to `<+input>` to accept runtime input.
  - `type` (String): The type of the variable (e.g., `String`, `Number`).

## Import

Import is supported using the following syntax:

```shell
# Import account level custom secret manager connector
terraform import harness_custom_secrets_manager.example <connector_id>

# Import org level custom secret manager connector 
terraform import harness_custom_secrets_manager.example <ord_id>/<connector_id>

# Import project level custom secret manager connector 
terraform import harness_custom_secrets_manager.example <org_id>/<project_id>/<connector_id>
```
