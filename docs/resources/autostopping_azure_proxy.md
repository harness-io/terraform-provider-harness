---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_autostopping_azure_proxy Resource - terraform-provider-harness"
subcategory: "Next Gen"
description: |-
  Resource for creating an Azure autostopping proxy
---

# harness_autostopping_azure_proxy (Resource)

Resource for creating an Azure autostopping proxy

## Example Usage

```terraform
resource "harness_autostopping_azure_proxy" "test" {
  name                              = "name"
  cloud_connector_id                = "cloud_connector_id"
  host_name                         = "host_name"
  region                            = "eastus2"
  resource_group                    = "resource_group"
  vpc                               = "/subscriptions/subscription_id/resourceGroups/resource_group/providers/Microsoft.Network/virtualNetworks/virtual_network"
  subnet_id                         = "/subscriptions/subscription_id/resourceGroups/resource_group/providers/Microsoft.Network/virtualNetworks/virtual_network/subnets/subnet_id"
  security_groups                   = ["/subscriptions/subscription_id/resourceGroups/resource_group/providers/Microsoft.Network/networkSecurityGroups/network_security_group"]
  allocate_static_ip                = true
  machine_type                      = "Standard_D2s_v3"
  keypair                           = ""
  api_key                           = ""
  delete_cloud_resources_on_destroy = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `api_key` (String, Sensitive) Harness NG API key
- `cloud_connector_id` (String) Id of the cloud connector
- `delete_cloud_resources_on_destroy` (Boolean) Governs how the proxy entity will be deleted on Terraform destroy. When set to true, the associated VM will be deleted permanently from Azure account. Be fully aware of the consequneces of settting this to true, as the action is irreversible. When set to false, solely the Harness LB representation will be deleted, which leaves the proxy VM in Azure account itself.
- `host_name` (String) Hostname for the proxy
- `keypair` (String) Name of SSH Key to be used for proxy VM
- `machine_type` (String) Type of instance to be used for proxy
- `name` (String) Name of the proxy
- `region` (String) Region in which cloud resources are hosted
- `resource_group` (String) Resource group in which cloud resources are hosted
- `subnet_id` (String) Subnet in which cloud resources are hosted
- `vpc` (String) VPC in which cloud resources are hosted

### Optional

- `allocate_static_ip` (Boolean) Boolean value to indicate if proxy vm needs to have static IP
- `certificate_id` (String)
- `certificates` (Block List, Max: 1) (see [below for nested schema](#nestedblock--certificates))
- `security_groups` (List of String) Security Group to define the security rules that determine the inbound and outbound traffic

### Read-Only

- `id` (String) The ID of this resource.
- `identifier` (String) Unique identifier of the resource

<a id="nestedblock--certificates"></a>
### Nested Schema for `certificates`

Required:

- `cert_secret_id` (String) ID of certificate secret uploaded to vault
- `key_secret_id` (String) ID of certificate key uploaded to vault
