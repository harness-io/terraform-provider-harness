---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "harness_custom_secret_manager Resource - terraform-provider-harness"
subcategory: "Next Gen"
description: |-
  Resource for creating an Custom Secret Manager connector.
---

# harness_custom_secret_manager (Resource)

Resource for creating a Custom Secret Manager connector.

References:
- For details on how to onboard with Terraform, please see [Harness Terraform Provider Overview](https://developer.harness.io/docs/platform/terraform/harness-terraform-provider-overview/)
- To understand how to use AWS Secret Manager, please see [Documentation](https://developer.harness.io/docs/platform/Secrets/Secrets-Management/add-an-aws-secret-manager)
- To get more information about Api, please see [API documentation](https://apidocs.harness.io/tag/Connectors)

## Example Usage

# Case where on_delegate is set to true.
resource "harness_custom_secrets_manager" "example" {
	name                = "Custom Secrets Manager"
	description         = ""
	identifier          = "identifier"
  
	type                = "CustomSecretManager"
	on_delegate         = true
	timeout             = 20
	tags                = []
  
	template_ref        = "account.templateIdentifier"
	version_label       = "1"
  
	template_inputs = {
	  environment_variables = [
		{
		  name  = "var1_name" 
		  type  = "String"     
		  value = "var1_value" 
		  useAsDefault  = true
		},
		{
		  name  = "var2_name"  
		  type  = "String"  
		  value = "var2_value" 
		  useAsDefault        = false
		}
		# Add more variables as needed
	  ]
	}
  
  }

# Case where on_delegate is set to false.
resource "harness_custom_secrets_manager" "example" {
	name                = "Custom Secrets Manager"
	description         = ""
	identifier          = "identifier"
  
	type                = "CustomSecretManager"
	on_delegate         = false
	timeout             = 20
	tags                = ["foo:bar"]
  
	template_ref     = "account.templateIdentifier" # doubt: this is an input correct?
	version_label       = "1"
  
	template_inputs = {
	  environment_variables = [
		{
		  name  = "var1_name" 
		  type  = "String"     
		  value = "var1_value" 
		}
		# Add more variables as needed
	  ]
	}
	
	target_host = "target_host"
	ssh_secret_ref = "ssh_connection_secret_ref"
	working_directory = "working_directory_path"
  
  }

  <!-- schema generated by tfplugindocs -->
## Schema

### Required

- `credentials` (Block List, Min: 1, Max: 1) Credentials to connect to Custom Secret Manager. (see [below for nested schema](#nestedblock--credentials))
- `identifier` (String) Unique identifier of the resource.
- `name` (String) Name of the resource.

### Optional

- `description` (String) Description of the resource.
- `org_id` (String) Unique identifier of the organization.
- `project_id` (String) Unique identifier of the project.
- `tags` (Set of String) Tags to associate with the resource.

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--credentials"></a>
### Nested Schema for `credentials`

Optional:

- `assume_role` (Block List, Max: 1) Connect using STS assume role. (see [below for nested schema](#nestedblock--credentials--assume_role))
- `inherit_from_delegate` (Boolean) Inherit the credentials from from the delegate.
- `manual` (Block List, Max: 1) Select a Shell Script Template to proceed. (see [below for nested schema](#nestedblock--credentials--manual))

<a id="nestedblock--credentials--assume_role"></a>
### Nested Schema for `credentials.assume_role`

Required:

- `external_id` (String) If the administrator of the account to which the role belongs provided you with an external ID, then enter that value.

Required:

- `access_key_ref` (String) The reference to the Harness secret containing the AWS access key. To reference a secret at the organization scope, prefix 'org' to the expression: org.{identifier}. To reference a secret at the account scope, prefix 'account` to the expression: account.{identifier}.